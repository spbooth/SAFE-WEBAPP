<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.7.0_161) on Thu Jan 11 13:54:12 GMT 2018 -->
<title>AppUser</title>
<meta name="date" content="2018-01-11">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AppUser";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AbstractSessionService.html" title="class in uk.ac.ed.epcc.webapp.session"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserCommitObserver.html" title="interface in uk.ac.ed.epcc.webapp.session"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?uk/ac/ed/epcc/webapp/session/AppUser.html" target="_top">Frames</a></li>
<li><a href="AppUser.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">uk.ac.ed.epcc.webapp.session</div>
<h2 title="Class AppUser" class="title">Class AppUser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">uk.ac.ed.epcc.webapp.model.data.DataObject</a></li>
<li>
<ul class="inheritance">
<li>uk.ac.ed.epcc.webapp.session.AppUser</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.security.Principal, <a href="../../../../../../uk/ac/ed/epcc/webapp/Contexed.html" title="interface in uk.ac.ed.epcc.webapp">Contexed</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/ContextIndexed.html" title="interface in uk.ac.ed.epcc.webapp">ContextIndexed</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html" title="interface in uk.ac.ed.epcc.webapp.forms">Identified</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/Indexed.html" title="interface in uk.ac.ed.epcc.webapp">Indexed</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">AppUser</span>
extends <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">DataObject</a>
implements java.security.Principal</pre>
<div class="block">AppUser Generic Object representing a user of the Web application potentially sub-classed
 by actual Webapps.
 
 An AppUser can support names defined in various realms (defined using <a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserNameFinder.html" title="class in uk.ac.ed.epcc.webapp.session"><code>AppUserNameFinder</code></a> objects.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>spb</dd>
<DT>&nbsp;</DT><DD><map name="umlmap1267W0H0"><area shape="rect" coords="6,561,127,578" href="http://www.yworks.com/" alt=""><area shape="rect" coords="501,145,584,171" href="#" alt=""><area shape="rect" coords="385,172,549,188" href="#UPDATED_TIME" alt=""><area shape="rect" coords="385,189,692,205" href="#AppUser(uk.ac.ed.epcc.webapp.session.AppUserFactory, uk.ac.ed.epcc.webapp.model.data.Repository.Record)" alt=""><area shape="rect" coords="385,206,545,222" href="#allowEmail()" alt=""><area shape="rect" coords="385,222,537,238" href="#canLogin()" alt=""><area shape="rect" coords="385,238,569,254" href="#canReregister()" alt=""><area shape="rect" coords="385,254,616,270" href="#checkStateRole(java.lang.String)" alt=""><area shape="rect" coords="385,270,521,286" href="#getEmail()" alt=""><area shape="rect" coords="385,286,596,302" href="#getFactory()" alt=""><area shape="rect" coords="385,302,559,318" href="#getIdentifier(int)" alt=""><area shape="rect" coords="385,318,633,334" href="#getLastTimeDetailsUpdated()" alt=""><area shape="rect" coords="385,334,546,350" href="#getLogName()" alt=""><area shape="rect" coords="385,350,524,366" href="#getName()" alt=""><area shape="rect" coords="385,366,599,382" href="#getRealmName(java.lang.String)" alt=""><area shape="rect" coords="385,382,550,398" href="#getSortName()" alt=""><area shape="rect" coords="385,398,583,414" href="#markDetailsUpdated()" alt=""><area shape="rect" coords="385,414,602,430" href="#needDetailsUpdate()" alt=""><area shape="rect" coords="385,430,574,446" href="#notifyChange(java.lang.String)" alt=""><area shape="rect" coords="385,446,585,462" href="#post_commit(boolean)" alt=""><area shape="rect" coords="385,462,578,478" href="#pre_commit(boolean)" alt=""><area shape="rect" coords="385,478,520,494" href="#reRegister()" alt=""><area shape="rect" coords="385,494,545,509" href="#setEmail(java.lang.String)" alt=""><area shape="rect" coords="385,509,613,525" href="#setEmailsAllowed(boolean)" alt=""><area shape="rect" coords="385,525,631,541" href="#setRealmName(java.lang.String, java.lang.String)" alt=""><area shape="rect" coords="377,119,582,136" href="package-summary.html" alt=""><area shape="rect" coords="497,37,588,61" href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" alt=""><area shape="rect" coords="425,11,653,29" href="../../../../../../uk/ac/ed/epcc/webapp/model/data/package-summary.html" alt=""><area shape="rect" coords="14,232,314,255" href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserFactory.html" alt=""><area shape="rect" coords="2,206,207,224" href="../../../../../../uk/ac/ed/epcc/webapp/session/package-summary.html" alt=""></map>
<map name="umlmap1267W1H0"><area shape="rect" coords="-2,145,80,171" href="#" alt=""><area shape="rect" coords="-119,172,45,188" href="#UPDATED_TIME" alt=""><area shape="rect" coords="-119,189,188,205" href="#AppUser(uk.ac.ed.epcc.webapp.session.AppUserFactory, uk.ac.ed.epcc.webapp.model.data.Repository.Record)" alt=""><area shape="rect" coords="-119,206,41,222" href="#allowEmail()" alt=""><area shape="rect" coords="-119,222,33,238" href="#canLogin()" alt=""><area shape="rect" coords="-119,238,65,254" href="#canReregister()" alt=""><area shape="rect" coords="-119,254,112,270" href="#checkStateRole(java.lang.String)" alt=""><area shape="rect" coords="-119,270,17,286" href="#getEmail()" alt=""><area shape="rect" coords="-119,286,92,302" href="#getFactory()" alt=""><area shape="rect" coords="-119,302,55,318" href="#getIdentifier(int)" alt=""><area shape="rect" coords="-119,318,129,334" href="#getLastTimeDetailsUpdated()" alt=""><area shape="rect" coords="-119,334,42,350" href="#getLogName()" alt=""><area shape="rect" coords="-119,350,20,366" href="#getName()" alt=""><area shape="rect" coords="-119,366,95,382" href="#getRealmName(java.lang.String)" alt=""><area shape="rect" coords="-119,382,46,398" href="#getSortName()" alt=""><area shape="rect" coords="-119,398,79,414" href="#markDetailsUpdated()" alt=""><area shape="rect" coords="-119,414,98,430" href="#needDetailsUpdate()" alt=""><area shape="rect" coords="-119,430,70,446" href="#notifyChange(java.lang.String)" alt=""><area shape="rect" coords="-119,446,81,462" href="#post_commit(boolean)" alt=""><area shape="rect" coords="-119,462,74,478" href="#pre_commit(boolean)" alt=""><area shape="rect" coords="-119,478,16,494" href="#reRegister()" alt=""><area shape="rect" coords="-119,494,41,509" href="#setEmail(java.lang.String)" alt=""><area shape="rect" coords="-119,509,109,525" href="#setEmailsAllowed(boolean)" alt=""><area shape="rect" coords="-119,525,127,541" href="#setRealmName(java.lang.String, java.lang.String)" alt=""><area shape="rect" coords="-127,119,78,136" href="package-summary.html" alt=""><area shape="rect" coords="-6,37,84,61" href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" alt=""><area shape="rect" coords="-78,11,149,29" href="../../../../../../uk/ac/ed/epcc/webapp/model/data/package-summary.html" alt=""><area shape="rect" coords="265,232,409,255" href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Repository.Record.html" alt=""><area shape="rect" coords="255,206,483,224" href="../../../../../../uk/ac/ed/epcc/webapp/model/data/package-summary.html" alt=""></map>
<A NAME="UmlDiagram"></A><CENTER><TABLE CLASS="UmlTable" BORDER="0" CELLSPACING="0" CELLPADDING="0">
<TR CLASS="UmlTableRow">
<TD CLASS="UmlTableCell"><IMG SRC="AppUserW0H0.png" WIDTH="504" HEIGHT="587" USEMAP="#umlmap1267W0H0" BORDER="0"></TD>
<TD CLASS="UmlTableCell"><IMG SRC="AppUserW1H0.png" WIDTH="504" HEIGHT="587" USEMAP="#umlmap1267W1H0" BORDER="0"></TD>
</TR>
</TABLE></CENTER></DD>
<!-- yWorks UML Doclet   http://www.yworks.com/   b0ac8294d3f86ae0003f3a3a002ea3cf577df824efc6f2... --></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#UPDATED_TIME">UPDATED_TIME</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_uk.ac.ed.epcc.webapp.model.data.DataObject">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;uk.ac.ed.epcc.webapp.model.data.<a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">DataObject</a></h3>
<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#DEBUG">DEBUG</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#record">record</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_uk.ac.ed.epcc.webapp.forms.Identified">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;uk.ac.ed.epcc.webapp.forms.<a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html" title="interface in uk.ac.ed.epcc.webapp.forms">Identified</a></h3>
<code><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html#MAX_IDENTIFIER">MAX_IDENTIFIER</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#AppUser(uk.ac.ed.epcc.webapp.session.AppUserFactory,%20uk.ac.ed.epcc.webapp.model.data.Repository.Record)">AppUser</a></strong>(<a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserFactory.html" title="class in uk.ac.ed.epcc.webapp.session">AppUserFactory</a>&nbsp;factory,
       <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Repository.Record.html" title="class in uk.ac.ed.epcc.webapp.model.data">Repository.Record</a>&nbsp;res)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#allowEmail()">allowEmail</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#canLogin()">canLogin</a></strong>()</code>
<div class="block">Is this user allowed to login applications should override this method to
 implement the necessary logic for this.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#canReregister()">canReregister</a></strong>()</code>
<div class="block">Return true if the account is not permitted to login but a forgotten password 
 request will re-register the user.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#checkStateRole(java.lang.String)">checkStateRole</a></strong>(java.lang.String&nbsp;role)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getEmail()">getEmail</a></strong>()</code>
<div class="block">get the Email address for this AppUser if known.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserFactory.html" title="class in uk.ac.ed.epcc.webapp.session">AppUserFactory</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getFactory()">getFactory</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getIdentifier(int)">getIdentifier</a></strong>(int&nbsp;max_length)</code>
<div class="block">Generate Identifier with advisory max length.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getLastTimeDetailsUpdated()">getLastTimeDetailsUpdated</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getLogName()">getLogName</a></strong>()</code>
<div class="block">return name and SU identity if it exists.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getName()">getName</a></strong>()</code>
<div class="block">get the presentation name of the user
 
 
 By default this looks for a <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Composite.html" title="class in uk.ac.ed.epcc.webapp.model.data"><code>Composite</code></a> that implements <a href="../../../../../../uk/ac/ed/epcc/webapp/session/NameComposite.html" title="interface in uk.ac.ed.epcc.webapp.session"><code>NameComposite</code></a>
 then falls back to the default realm name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getRealmName(java.lang.String)">getRealmName</a></strong>(java.lang.String&nbsp;realm)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#getSortName()">getSortName</a></strong>()</code>
<div class="block">Version of getName where the String sort order matches the 
 presentation order.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#markDetailsUpdated()">markDetailsUpdated</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#needDetailsUpdate()">needDetailsUpdate</a></strong>()</code>
<div class="block">do the persons details need updating.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#notifyChange(java.lang.String)">notifyChange</a></strong>(java.lang.String&nbsp;extra)</code>
<div class="block">Extension point for when updates to person state may need to be
 notified to external parties.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#post_commit(boolean)">post_commit</a></strong>(boolean&nbsp;changed)</code>
<div class="block">Extension point called at end of commit</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#pre_commit(boolean)">pre_commit</a></strong>(boolean&nbsp;dirty)</code>
<div class="block">Extension point called at start of commit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#reRegister()">reRegister</a></strong>()</code>
<div class="block">Re-register a retired account</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#setEmail(java.lang.String)">setEmail</a></strong>(java.lang.String&nbsp;email)</code>
<div class="block">change email address and commit change.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#setEmailsAllowed(boolean)">setEmailsAllowed</a></strong>(boolean&nbsp;value)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#setRealmName(java.lang.String,%20java.lang.String)">setRealmName</a></strong>(java.lang.String&nbsp;realm,
            java.lang.String&nbsp;name)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_uk.ac.ed.epcc.webapp.model.data.DataObject">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;uk.ac.ed.epcc.webapp.model.data.<a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">DataObject</a></h3>
<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#addToMap(java.util.Map,%20java.util.Map)">addToMap</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#addToMap(java.util.Map,%20java.lang.Object[][])">addToMap</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#addToMap(java.util.Map,%20java.lang.String,%20java.lang.Object)">addToMap</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#commit()">commit</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#delete()">delete</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#empty(java.lang.String)">empty</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#equals(java.lang.Object)">equals</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#formUpdate(uk.ac.ed.epcc.webapp.forms.Form)">formUpdate</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getContext()">getContext</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getFactoryTag()">getFactoryTag</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getID()">getID</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getIdentifier()">getIdentifier</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getLogger()">getLogger</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getMap()">getMap</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getRecord(uk.ac.ed.epcc.webapp.AppContext,%20java.lang.String)">getRecord</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getRecord(uk.ac.ed.epcc.webapp.AppContext,%20java.lang.String,%20int)">getRecord</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getRecord(uk.ac.ed.epcc.webapp.AppContext,%20java.lang.String,%20java.util.Map)">getRecord</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getSQLContext()">getSQLContext</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getUniqueIdName()">getUniqueIdName</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#hashCode()">hashCode</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#postCreate()">postCreate</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#release()">release</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#setContents(java.util.Map)">setContents</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#setDirty(java.lang.String,%20boolean)">setDirty</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#setMap(java.util.Map)">setMap</a>, <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#toString()">toString</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.security.Principal">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;java.security.Principal</h3>
<code>equals, hashCode, toString</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="UPDATED_TIME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UPDATED_TIME</h4>
<pre>public static final&nbsp;java.lang.String UPDATED_TIME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#uk.ac.ed.epcc.webapp.session.AppUser.UPDATED_TIME">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AppUser(uk.ac.ed.epcc.webapp.session.AppUserFactory, uk.ac.ed.epcc.webapp.model.data.Repository.Record)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AppUser</h4>
<pre>public&nbsp;AppUser(<a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserFactory.html" title="class in uk.ac.ed.epcc.webapp.session">AppUserFactory</a>&nbsp;factory,
       <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Repository.Record.html" title="class in uk.ac.ed.epcc.webapp.model.data">Repository.Record</a>&nbsp;res)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFactory()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFactory</h4>
<pre>public&nbsp;<a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserFactory.html" title="class in uk.ac.ed.epcc.webapp.session">AppUserFactory</a>&nbsp;getFactory()</pre>
</li>
</ul>
<a name="canLogin()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canLogin</h4>
<pre>public&nbsp;boolean&nbsp;canLogin()</pre>
<div class="block">Is this user allowed to login applications should override this method to
 implement the necessary logic for this.
 
 This will also disable forgotten password requests.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>boolean true for permitted.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUser.html#canReregister()"><code>canReregister()</code></a></dd></dl>
</li>
</ul>
<a name="canReregister()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canReregister</h4>
<pre>public&nbsp;boolean&nbsp;canReregister()</pre>
<div class="block">Return true if the account is not permitted to login but a forgotten password 
 request will re-register the user.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="reRegister()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reRegister</h4>
<pre>public&nbsp;void&nbsp;reRegister()</pre>
<div class="block">Re-register a retired account</div>
</li>
</ul>
<a name="getRealmName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRealmName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRealmName(java.lang.String&nbsp;realm)</pre>
</li>
</ul>
<a name="getEmail()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEmail</h4>
<pre>public&nbsp;java.lang.String&nbsp;getEmail()</pre>
<div class="block">get the Email address for this AppUser if known.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String</dd></dl>
</li>
</ul>
<a name="allowEmail()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowEmail</h4>
<pre>public&nbsp;boolean&nbsp;allowEmail()</pre>
</li>
</ul>
<a name="setEmailsAllowed(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEmailsAllowed</h4>
<pre>public&nbsp;void&nbsp;setEmailsAllowed(boolean&nbsp;value)</pre>
</li>
</ul>
<a name="getIdentifier(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIdentifier</h4>
<pre>public&nbsp;java.lang.String&nbsp;getIdentifier(int&nbsp;max_length)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html#getIdentifier(int)">Identified</a></code></strong></div>
<div class="block">Generate Identifier with advisory max length.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html#getIdentifier(int)">getIdentifier</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html" title="interface in uk.ac.ed.epcc.webapp.forms">Identified</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#getIdentifier(int)">getIdentifier</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">DataObject</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>max_length</code> - advisory max length</dd>
<dt><span class="strong">Returns:</span></dt><dd>String identifier</dd></dl>
</li>
</ul>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">get the presentation name of the user
 
 
 By default this looks for a <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Composite.html" title="class in uk.ac.ed.epcc.webapp.model.data"><code>Composite</code></a> that implements <a href="../../../../../../uk/ac/ed/epcc/webapp/session/NameComposite.html" title="interface in uk.ac.ed.epcc.webapp.session"><code>NameComposite</code></a>
 then falls back to the default realm name.
 This method can also be overridden to directly generate a more friendly presentation name</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getName</code>&nbsp;in interface&nbsp;<code>java.security.Principal</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>String</dd></dl>
</li>
</ul>
<a name="getSortName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSortName</h4>
<pre>public final&nbsp;java.lang.String&nbsp;getSortName()</pre>
<div class="block">Version of getName where the String sort order matches the 
 presentation order. If we change this we need to keep getIdentifier roughly consistent.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>String</dd></dl>
</li>
</ul>
<a name="setRealmName(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRealmName</h4>
<pre>public&nbsp;void&nbsp;setRealmName(java.lang.String&nbsp;realm,
                java.lang.String&nbsp;name)</pre>
</li>
</ul>
<a name="setEmail(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEmail</h4>
<pre>public&nbsp;void&nbsp;setEmail(java.lang.String&nbsp;email)
              throws <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Exceptions/DataFault.html" title="class in uk.ac.ed.epcc.webapp.model.data.Exceptions">DataFault</a></pre>
<div class="block">change email address and commit change.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Exceptions/DataFault.html" title="class in uk.ac.ed.epcc.webapp.model.data.Exceptions">DataFault</a></code></dd><dt><span class="strong">Parameters:</span></dt><dd><code>email</code> - </dd></dl>
</li>
</ul>
<a name="getLastTimeDetailsUpdated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastTimeDetailsUpdated</h4>
<pre>public&nbsp;java.util.Date&nbsp;getLastTimeDetailsUpdated()</pre>
</li>
</ul>
<a name="markDetailsUpdated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markDetailsUpdated</h4>
<pre>public&nbsp;void&nbsp;markDetailsUpdated()</pre>
</li>
</ul>
<a name="needDetailsUpdate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needDetailsUpdate</h4>
<pre>public&nbsp;boolean&nbsp;needDetailsUpdate()</pre>
<div class="block">do the persons details need updating.
 This is only used by  <a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserFactory.UpdatePersonRequiredPage.html" title="class in uk.ac.ed.epcc.webapp.session"><code>AppUserFactory.UpdatePersonRequiredPage</code></a> and the jsp pages that
 update the personal details so if the corresponding feature is disabled it always return false.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>boolean</dd></dl>
</li>
</ul>
<a name="pre_commit(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pre_commit</h4>
<pre>protected&nbsp;void&nbsp;pre_commit(boolean&nbsp;dirty)
                   throws <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Exceptions/DataFault.html" title="class in uk.ac.ed.epcc.webapp.model.data.Exceptions">DataFault</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#pre_commit(boolean)">DataObject</a></code></strong></div>
<div class="block">Extension point called at start of commit.
 It is legal to change the record in this call</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#pre_commit(boolean)">pre_commit</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">DataObject</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Exceptions/DataFault.html" title="class in uk.ac.ed.epcc.webapp.model.data.Exceptions">DataFault</a></code></dd><dt><span class="strong">Parameters:</span></dt><dd><code>dirty</code> - is record known to be modified.</dd></dl>
</li>
</ul>
<a name="post_commit(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>post_commit</h4>
<pre>protected&nbsp;void&nbsp;post_commit(boolean&nbsp;changed)
                    throws <a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Exceptions/DataFault.html" title="class in uk.ac.ed.epcc.webapp.model.data.Exceptions">DataFault</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#post_commit(boolean)">DataObject</a></code></strong></div>
<div class="block">Extension point called at end of commit</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html#post_commit(boolean)">post_commit</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/DataObject.html" title="class in uk.ac.ed.epcc.webapp.model.data">DataObject</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../uk/ac/ed/epcc/webapp/model/data/Exceptions/DataFault.html" title="class in uk.ac.ed.epcc.webapp.model.data.Exceptions">DataFault</a></code></dd><dt><span class="strong">Parameters:</span></dt><dd><code>changed</code> - record was changed by commit.</dd></dl>
</li>
</ul>
<a name="getLogName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getLogName()</pre>
<div class="block">return name and SU identity if it exists.
 
 We need to query the session to do this. This is used when logging
 resource allocations so we can tell the difference between something done
 by a user or and admin SU'd as that user.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>req</code> - Request object</dd>
<dt><span class="strong">Returns:</span></dt><dd>String</dd></dl>
</li>
</ul>
<a name="checkStateRole(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkStateRole</h4>
<pre>public&nbsp;boolean&nbsp;checkStateRole(java.lang.String&nbsp;role)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>role</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="notifyChange(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notifyChange</h4>
<pre>public&nbsp;void&nbsp;notifyChange(java.lang.String&nbsp;extra)</pre>
<div class="block">Extension point for when updates to person state may need to be
 notified to external parties.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>extra</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AbstractSessionService.html" title="class in uk.ac.ed.epcc.webapp.session"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/session/AppUserCommitObserver.html" title="interface in uk.ac.ed.epcc.webapp.session"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?uk/ac/ed/epcc/webapp/session/AppUser.html" target="_top">Frames</a></li>
<li><a href="AppUser.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
