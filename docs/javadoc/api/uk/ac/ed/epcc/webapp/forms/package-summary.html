<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_262) on Wed Nov 11 14:14:05 GMT 2020 -->
<title>uk.ac.ed.epcc.webapp.forms</title>
<meta name="date" content="2020-11-11">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="uk.ac.ed.epcc.webapp.forms";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/exec/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/action/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?uk/ac/ed/epcc/webapp/forms/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;uk.ac.ed.epcc.webapp.forms</h1>
<div class="docSummary">
<div class="block">This package contains generic form processing code.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/FieldValidator.html" title="interface in uk.ac.ed.epcc.webapp.forms">FieldValidator</a>&lt;D&gt;</td>
<td class="colLast">
<div class="block">Interface for an additional external validator that can be added to a Field.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Form.html" title="interface in uk.ac.ed.epcc.webapp.forms">Form</a></td>
<td class="colLast">
<div class="block">Interface for building and querying Forms.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/FormValidator.html" title="interface in uk.ac.ed.epcc.webapp.forms">FormValidator</a></td>
<td class="colLast">
<div class="block">Interface for objects that can perform a global consistency check on a Form
 
 If it is more convenient to perform validation as part of the <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/action/FormAction.html" title="class in uk.ac.ed.epcc.webapp.forms.action"><code>FormAction</code></a>
 then you can throw a <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/exceptions/TransitionValidationException.html" title="class in uk.ac.ed.epcc.webapp.forms.exceptions"><code>TransitionValidationException</code></a> there instead.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Identified.html" title="interface in uk.ac.ed.epcc.webapp.forms">Identified</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/ModifyingFormValidator.html" title="interface in uk.ac.ed.epcc.webapp.forms">ModifyingFormValidator</a></td>
<td class="colLast">
<div class="block">a <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/FormValidator.html" title="interface in uk.ac.ed.epcc.webapp.forms"><code>FormValidator</code></a> that applies additional changes to the <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Form.html" title="interface in uk.ac.ed.epcc.webapp.forms"><code>Form</code></a> itself
 for example adding a 2FA token input</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/BaseForm.html" title="class in uk.ac.ed.epcc.webapp.forms">BaseForm</a></td>
<td class="colLast">
<div class="block">superclass for all Forms.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/Field.html" title="class in uk.ac.ed.epcc.webapp.forms">Field</a>&lt;I&gt;</td>
<td class="colLast">
<div class="block">Field represents a single field in the form consisting of a label and and Input.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/MapForm.html" title="class in uk.ac.ed.epcc.webapp.forms">MapForm</a></td>
<td class="colLast">
<div class="block">Form that can take its inputs as a Map</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/SetParamVisitor.html" title="class in uk.ac.ed.epcc.webapp.forms">SetParamVisitor</a></td>
<td class="colLast">
<div class="block">An <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/inputs/InputVisitor.html" title="interface in uk.ac.ed.epcc.webapp.forms.inputs"><code>InputVisitor</code></a> that adds the inputs contents to a map
 equivalent to the form post parameters</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package uk.ac.ed.epcc.webapp.forms Description">Package uk.ac.ed.epcc.webapp.forms Description</h2>
<div class="block">This package contains generic form processing code.
  
<P>The initial
implementation is aimed at HTML forms but it is also possible to
generate GUI forms using the same basic structure. 
</P>
<P>A standard form consists of an ordered list of named fields. For each field
the form consists of a text label (defaulting to the name of the
field) and a Input. Inputs can be text-boxes, pull-downs,
radio-buttons etc. A form also has a set of action/submit buttons. 
</P>
<P>Note that Inputs may be composite. For example we may want to
build a Date Input out of separate pull-down menus for year, month
and day. 
</P>
<P>When a form is submitted each of the inputs is parsed and the
overall submission validated. If there are any errors in the form
input the form is re-presented marked up with errors. Errors can be
presented in the following ways: 
</P>
<UL>
        <LI><P>Non optional fields can be marked
        as <EM>missing</EM> 
        </P></LI>
        <LI><P>Fields can be annotated with field
        specific error messages 
        </P></LI>
        <LI><P>A general error message can be presented. 
        </P></LI>
</UL>
<P>Each field in a validated form has a corresponding value (Object).
The Form can return a Map of values for use by the program logic
after the form has been verified. Alternatively if a form has action
buttons defined then these buttons are tied to a <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/action/FormAction.html" title="class in uk.ac.ed.epcc.webapp.forms.action"><code>FormAction</code></a>
class that acts like a method call on the form.</P>
<P>The Form superclass is independent of how the form is edited. This
allows us to use generic code to build Forms of different types. The
Form validation code is also the same for all form types. 
</P>
<P>There are 2 levels of validation. Each field/Input can validate
its own inputs independently and generate field specific errors. Every Input class has its own
built in validation code and this can be augmented by adding a <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/FieldValidator.html" title="interface in uk.ac.ed.epcc.webapp.forms"><code>FieldValidator</code></a> to the corresponding field of the form.
The overall form can also be validated and generate a generic error. This
is done by adding a <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/FormValidator.html" title="interface in uk.ac.ed.epcc.webapp.forms"><code>FormValidator</code></a> object to the form. These can be used to validate constraints that affect multiple fields for example if
one value should be less than another.
</P>
<P>The activation pattern for HTML and GUI forms are significantly
different. In a GUI there is a single Form instance each field can be
validated as it is edited. Each edit invokes an appropriate
call-back. In HTML form generation and parsing are separated into two
separate phases on different instances and progress in batch mode.
The Form editing methods are therefore specific to the subclass or handled using a visitor pattern. The
flow of control is as follows: 
</P>
<UL>
        <LI><P STYLE="margin-bottom: 0cm">The enclosing Servlet/GUI
        environment code creates a form of the correct sub-class. 
        </P></LI>
        <LI><P STYLE="margin-bottom: 0cm">This blank form is passed to a
        method on some model class to build the form 
        </P></LI>
        <LI><P STYLE="margin-bottom: 0cm">The enclosing environment code
        calls the form edit methods on the Form. 
        </P></LI>
        <LI><P>The validated form is passed to an action method to perform the necessary action. This may be a method on a model class 
        but it is more usual to embed a <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/action/FormAction.html" title="class in uk.ac.ed.epcc.webapp.forms.action"><code>FormAction</code></a> class within the form itself that contains references
        to the model classes that need to be modified.
        </P></LI>
</UL>
<p> To improve the user interface inputs that correspond to HTML5 input types can implement
<a href="../../../../../../uk/ac/ed/epcc/webapp/forms/inputs/HTML5Input.html" title="interface in uk.ac.ed.epcc.webapp.forms.inputs"><code>HTML5Input</code></a> to take advantage of browser level field validation.
In general we prefer to rely on html5 features rather than introducing additional javascript. In principal we could allow inputs and validators
to add additional javascript though this would require each validation rule to be implemented and maintained in two different languages.
I

</p>
<P>The Input classes are kept generic to all different types of Form.
The Form class has to implement the different types of edit operation
depending on the kind of selector. This allows us to use inheritance
between different types of Input. If we sub-classed Inputs by Form
type each new Input type would need to be sub-classed for every Form
type. Where we subclass an Input by type there is a reasonable chance
that the inherited edit code will be sufficient and not need
re-implementing For example most Inputs can share text-box edit code
from a common superclass but can be quite different when it comes to
parse and validation. 
</P>
<p>
There is a very powerful framework for implementing application logic based on the
interfaces <a href="../../../../../../uk/ac/ed/epcc/webapp/forms/transition/Transition.html" title="interface in uk.ac.ed.epcc.webapp.forms.transition"><code>Transition</code></a> and
<a href="../../../../../../uk/ac/ed/epcc/webapp/forms/transition/TransitionFactory.html" title="interface in uk.ac.ed.epcc.webapp.forms.transition"><code>TransitionFactory</code></a>. These define general form-based methods that can be called on an object.
A <code>Transition</code> defines the operation and associated form and the <code>TransitionFactory</code> provides the logic for
identifying the target and access control. This allows large amounts of functionality to be implemented independently of the jsp/servlet framework.
</p></div>
<dl><DT>&nbsp;</DT><DD><map name="umlmap1610"><area shape="rect" coords="6,440,127,457" href="http://www.yworks.com/" alt=""><area shape="rect" coords="11,397,138,420" href="SetParamVisitor.html" alt=""><area shape="rect" coords="129,329,301,352" href="MapForm.ParseVisitor.html" alt=""><area shape="rect" coords="13,183,91,206" href="MapForm.html" alt=""><area shape="rect" coords="11,329,81,352" href="Field.html" alt=""><area shape="rect" coords="11,110,93,133" href="BaseForm.html" alt=""><area shape="rect" coords="181,115,364,138" href="ModifyingFormValidator.html" alt=""><area shape="rect" coords="279,256,357,279" href="Identified.html" alt=""><area shape="rect" coords="216,32,328,55" href="FormValidator.html" alt=""><area shape="rect" coords="29,32,75,55" href="Form.html" alt=""><area shape="rect" coords="42,256,184,279" href="FieldValidator.html" alt=""><area shape="rect" coords="2,2,194,19" href="#" alt=""></map>
<A NAME="UmlDiagram"></A><CENTER><IMG SRC="package.png" WIDTH="417" HEIGHT="466" USEMAP="#umlmap1610" BORDER="0"></CENTER></DD>
<!-- yWorks UML Doclet   http://www.yworks.com/   b0ae8295803b347ea8c57eae69dd9f523e8b0cbb8a9c296e... -->
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/exec/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../../../uk/ac/ed/epcc/webapp/forms/action/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?uk/ac/ed/epcc/webapp/forms/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
